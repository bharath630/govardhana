---
title: Contact Form with UPI QR Code
heading: गावः सुरभिर्नो मुर्धन
description: Submit your details and generate a UPI QR code for payment
---

<div class="contact-box" style="display: flex; justify-content: center; align-items: center;">
  <form id="paymentForm" onsubmit="submitForm(event)">
    <label for="name">Full Name</label>
    <input type="text" name="name" id="name" placeholder="Enter your name..." required/>

    <label for="email">Email Address</label>
    <input type="email" name="email" id="email" placeholder="Enter your email..." required />

    <label for="adhar">Aadhar Number</label>
    <input type="text" name="adhar" id="adhar" placeholder="Enter your Aadhar..." required />

    <label for="dob">Date of Birth</label>
    <input type="date" name="dob" id="dob" placeholder="Enter your date of birth..." required />

    <label for="phone">Phone Number</label>
    <input type="text" name="phone" id="phoneNumber" placeholder="Enter your phone number..." required />
  
    <label for="category">Category:</label>
    <select id="category" name="category" required>
      <option value="Birthday">Birthday</option>
      <option value="Anniversary">Anniversary</option>
      <option value="Tithi">Tithi</option>
      <option value="Others">Others</option>
    </select>

    <input type="submit" value="Submit" />
  </form>

  <div id="confirmationMessage" style="display:none; color: green;">
    <br><br>Form submitted successfully! Kindly generate the QR and complete the payment 
  </div>
</div>

<script>
// Function to validate inputs and handle form submission
function validateInputs() {
  const email = document.getElementById('email').value;
  const adhar = document.getElementById('adhar').value;
  const phone = document.getElementById('phoneNumber').value;  // Corrected ID

  // Email validation (basic pattern)
  const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailPattern.test(email)) {
    alert("Please enter a valid email address.");
    return false;
  }

  // Aadhar validation
  if (!validate_adhar(adhar)) {
    alert("Please enter a valid Aadhar number.");
    return false;
  }

  // Phone number validation (10 digits only)
  const phonePattern = /^\d{10}$/;
  if (!phonePattern.test(phone)) {
    alert("Please enter a valid 10-digit phone number.");
    return false;
  }

  return true;
}

// Basic Aadhar validation function
function validate_adhar(adhar) {
  const adharPattern = /^\d{12}$/;  // Assuming Aadhar has 12 digits
  return adharPattern.test(adhar);
}

let formSubmitted = false;
function submitForm(event) {
  event.preventDefault(); // Prevent default form submission

  if (formSubmitted) {
    alert("You have already submitted the form.");
    return;
  }

  console.log("Running validation...");
  if (!validateInputs()) {
    console.log("Validation failed.");
    return;
  }

  console.log("Validation successful. Preparing form data...");
  const formData = new FormData(document.getElementById("paymentForm"));
  const url = "https://script.google.com/macros/s/AKfycbzZAy-Fdpyx6XiWnyRdbUr3ZLdkg5iSooaBG0I1rrAta02x-X1MKQUbOoNRkNHtoKVWag/exec";

  fetch(url, {
    method: "POST",
    body: formData
  })
  .then(response => response.text())
  .then(data => {
    console.log("Response received:", data);  // Log response for confirmation
    formSubmitted = true;
    document.getElementById("confirmationMessage").style.display = "block";
  })
  .catch(error => {
    console.error("Error submitting form:", error);
  });
}
</script>
